<style>
  .box {
    display: flex;
    flex-flow: column;
    height: 100%;
  }

  .box .row.content {
    flex: 1 1 auto;
  }
</style>

<div class="row justify-content-center py-5 h-100">
  <div class="col-10 col-md-8 col-lg-10 container-form box" style="height: auto;">
    <div class="row p-4">
      <div class="order-lg-2 col-12 col-lg-4 d-flex justify-content-center p-0" style="height: 200px; border: 1px solid black; background-color: rgba(100, 100, 100, 0.60);">
        <div id="carouselExampleIndicators" *ngIf="book.images.length>1" class="carousel slide w-100" data-interval="false">
          <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" [data-slide-to]="i" *ngFor="let image of book.images;let i = index" [ngClass]="{'active': i===0}"></li>
          </ol>
          <div class="carousel-inner h-100">
            <div class="carousel-item h-100" *ngFor="let image of book.images;let i = index" [ngClass]="{'active': i===0}">
              <div class="h-100 w-100 d-flex align-items-center justify-content-center">
                <img style="max-height: 200px; max-width: 100%;" class="d-block" src="http://159.89.30.229:3000/api/v1/adImages/{{ image.url }}" alt="{{ i }}"> 
              </div>
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
        <div *ngIf="book.images.length==1" class="d-flex align-items-center">
          <img  style="max-height: 200px; width: 100%;" class="d-block" src="http://159.89.30.229:3000/api/v1/adImages/{{ book.images[0].url }}" alt="{{ i }}">
        </div>
      </div>
      <div class="col-sm">
        <h2>{{ book.title }}</h2>
        <p style="font-size: larger;">{{ book.author }} - {{ book.year }}</p>
        <p style="font-size: larger;">Publicato da {{ book.publisher }}</p>
        <!-- <h4>{{ book.genre[0].name }}</h4> -->
        <p style="font-size: larger;">{{ book.price }}</p>
      </div>
    </div>
    <div class="row justify-content-center content">
      <div class="col-11 align-self-center p-3" style="height: auto; min-height: 150px; border: 1px solid lightgrey;">
        <p>{{ book.description }}</p>
      </div>
    </div>
    <div class="row px-5 pb-5 justify-content-end">
      <button *ngIf="userId===book.user_id" class="btn btn-danger" (click)="onDelete()">Elimina Inserzione</button>
      <button *ngIf="!(userId===book.user_id)" class="btn btn-orange">Contatta Inserzionista</button>
    </div>
    
  </div>
    
    <!-- <div class="col-xs-12">
      <img src="http://159.89.30.229:3000/api/v1/adImages/{{ book.images[0].url }}" alt="{{ book.title }}" class="rounded float-right" style="max-height: 250px;">
    </div> -->
  </div>